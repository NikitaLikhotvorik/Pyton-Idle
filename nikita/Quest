import time
print('Welcome to the "Pinemoor Quest: At dead of night" \nWant to start the game? \n"Yes" or "No"')
a = input()
Quest = []
Invent = []
Funk = []
u = 0
b = 'объявление'
d = 'капкан'
e = 0
n = 0
x = 0
p = 0
w = ''
q = ''
xx = ''
yy = ''
o = ''
while a != 'Yes' and a != 'No':
    a = input()
if a == 'Yes':
    time.sleep(3)
    print('Дэн, ты слышишь меня? Приём! Ты на месте?')
    #time.sleep(5)
    print('Да, Я прибыл.')
    #time.sleep(4)
    print('Отлично. Только помни: никакой самодеятельности! Берёшь показания свидетелей, докладываешь мне, когда закончишь и уходишь. Понял? ')
    #time.sleep(4)
    print('Не волнуйтесь, шеф. Я помню вашу лекцию по этому поводу. Я всё равно не верю в эти сказки.')
    #time.sleep(3)
    print('Веришь не веришь, а проблемы мне не нужны! Запомни: Ещё один промах, и ты уволен!')
    #time.sleep(6)
    print('На кой ляп я за это взялся?')
    while a != 'Взять инвентарь':
        print('Вы стоите посреди дороги в лесу. По карте отсюда совсем недалеко до Pinemoor-а.\n В вашей машине находится фотокамера и блокнот.' ,
              '\n Чтобы совершить действие, напишите одно из слов в кавычках\n "Взять инвентарь"')
        a = input()
    print('Вы получили камеру и блокнот')
    while n != 1 or d not in Invent or b not in Invent:
        print('Пройдя 10 минут пешком вы наконец прибыли к воротам Pinemoor-а.\nВойдя внутрь вы понимаете, насколько же деревня пуста.' ,
              '\nУ вас есть несколько вариантов:\n"осмотреть доску объявлений"\n"поискать дом свидетеля"\n"прогулятся по лесу"')
        a = input()
        if a == "осмотреть доску объявлений":
            if b in Invent:
                print('На доске больше нет ничего интересного')
            elif b not in Invent:
                Invent.append(b)
                print('Вы подошли к доске объявлений. На ней не было ничего особенного... кроме объявления о пропаже.',
                      'Объявление добавленно в ваш инвентарь!')
        elif a == "прогулятся по лесу":
            print('Вы решили прогулятся по лесу. У вас два пути:',
                      '"Налево" или "Направо".')
            e = input()
            if e == "Налево":
                print('Там слишком дремучая чаща, без источника света идти туда - безсмысленно.')
            elif e == "Направо" and d not in Invent:
                Invent.append(d)
                print('Во время прогулки по лесу, вы споткнулись об корягу и упали на кучу жёлтых листьев.',
                      '\nВам воистину повезло: упади вы на пару сантиметров дальше, то в капкане, захлопнушившемся перед вашим носом, лежала бы ваша голова!',
                      '\n- Кому может понадобится расставлять капканы в лесу, да ещё и прятать их под листьями?',
                      '\nИнформация о капкане добавленна в ваш блокнот!')
            elif d in Invent and e == "Направо":
                print('Здесь больше нечего делать')
        elif a == "поискать дом свидетеля":
            print('Прогулявшись по городку, вы нашли дом, похожий на дом свидетельницы. Вы решили постучать в дверь:',
                  '\n- Здравствуйте, это Дэн Вистлоу, я из полиции, пожалуйста откройте, мне нужно задать вам пару вопросов!')
            print('Вам открыла дверь пожилая женщина лет 80. Она пригласила вас вунутрь своего дома.',
                  '\n- Так что вы хотели у меня спросить?')
            p = 0
            while n != 1 and p != 1:
                print(Invent)
                if b in Invent:
                    print('"Спросить про объявление"')
                if d in Invent:
                    print('"Спросить про капкан"')
                print('"Покинуть дом"')
                c = input()
                if c == "Спросить про объявление" and b in Invent:
                    print('- Вы знаете эту женщину?\nЖенщина взяла объявление и начала его рассматривать.')
                    time.sleep(4)
                    print('Ох, милок, да разве их сосчитаешь? Не первая невестка пропавшая.',
                          '\n- Вы хотите сказать, что люди пропадают здесь регулярно?\n',
                          '- Да, каждый месяц пропадают красавицы молодые! Не находят их нигде, да и не ищат, без того боятся.')
                    u = 1
                if c == 'Спросить про капкан' and d in Invent:
                    print('- Что вы знаете о капкане в лесу?\n-В нашем лесу есть капканы?\n-Да, и я чуть не напоролся на один из них.',
                          '\n-Ох, ну я у себя такого добра не храню. Хотя слышала что-то, дай только вспомню где...')
                    time.sleep(4)
                    print('Бабушка решила отойти заварить чаю, пока она вспоминает.')
                    time.sleep(8)
                    print('Когда чай наконец остыл, бабушка восклинула:\n',
                          'Вспомнила! На рынке говорили, что Джейкоб купил себе ловушек на зверьё. Возможно о них и шла речь!',
                          '\n- Джейкоб это..?',
                          '\n- Местный лесоруб. Он предпочитает жить вдалеке от цивилизации по законам природы.')
                    x = 1
                if x == 1 and u == 1:
                    n = 1
                    print('- Спасибо за информацию, она может помочь в расследовании. До свидание',
                          '\n- До свидания, милок. Ты уж в лесу то поокуратнее!')
                if c == 'Покинуть дом':
                    p = 1
                    print('- Я вернусь чуть позже, если это не проблема')
    print('Так значит в Pinemoor-е часто пропадают молодые дамы... И что это за лесоруб?\n',
            'М? Звонок от шефа.')
    time.sleep(3)
    print('Дэн,приём. Как прогресс?')
    time.sleep(3)
    print('Здравствуйте, шеф. Я узнал о том, что в Pinemoor-е каждый месяц пропадают молодые девушки.',
          'А ещё тут есть Некий дровосек, отдалённый от общества, который расставляет капканы.')
    time.sleep(4)
    print('Хорошо, разузнай о дровосеке и допроси его, если сможешь. Конец Связи.')
    time.sleep(4)
    print('Что-ж... Вот и новая цель')
    Invent.clear()
    u = 'фонарь'
    b = 'объявление'
    d = 0
    e = "мясо"
    n = 0
    x = "семья дровосека"
    p = "кроватка"
    w = 1
    xx = 'фотография'
    yy = 0
    o = ''
    с = 0
    while n != 1:
        print('У вас есть несколько вариантов:\n"Осмотреть городок"')
        if b in Funk:
            print('Пойти к дровосеку')
        elif b not in Funk:
            print("Пойти по левой тропинке в лесу")
        a = input()
        if a == 'Пойти к дровосеку' and b in Funk:
            yy = 1
        if a == "Осмотреть городок":
            print("Вы решили ещё погулять по городу. На выбор остаётся либо мяной магазин, либо берег озера",
                  '\n"пойти в магазин"\n"пойти на берег"')
            qq = input()
            if qq == "пойти в магазин":
                print('Зайдя в магазин вы почувствовали резкий запах мяса. За прилавком стояла продавщица.',
                      "\n-Здравствуйте. Я бы хотел задать пару вопросов если не сложно...",
                      "\n-А если сложно? - язвительно обратилась продавщица",
                      "\n-Я из полиции",
                      "\nС лица продавщицы изсчезла ухмылка.",
                      '\n-Я хотел бы узнать больше о Джейкобе. Вы же его знаете?',
                      '\n-Да. Жил тут в городе два года назад. Потом пропала его семья и он ушёл жить в лес. Больше ничего о нём не слышала',
                      '\n-Подождите... у него была семья?',
                      '\n-Да, ключевое слово "была".')
                Invent.append(x)
            elif qq == "пойти на берег":
                print('Вы вышли на берег озера. Вид тут изумительный. Однако, вам нужно сосредоточиться. Рядом стоит старый сарай.',
                      "\nВы решили попытаться его открыть. Дверь была не заперта. Внутри лежал фонарь",
                      "\nФонарь добавлен в ваш инвентарь!",
                      "\nОднако же позади сарая была мусорка. Судяпо запаху гнили, она принадлежит мясному магазину. Рядом с ней лежит кусок мяса.",
                      "\n-Есть я его вряд-ли стану, но в лесу кого только не встретишь!",
                      "\nКусок мяса добавлен в ваш инвентарь!")
                Invent.append(e)
                Invent.append(u)
        if a == "Пойти по левой тропинке в лесу" and b not in Funk:
            if u not in Invent:
                print('Там слишком дремучая чаща, без источника света идти туда - безсмысленно.')
            else:
                c = 0
                print('Вы пробираетесь через чащу с фонарём в руках. Через некоторое время вы видите в дали очертания дома,', 
                      'но его охраняет голодная собака, которую лучше не будить.')
                while c != 1:
                    print('У вас есть несколько вариантов:\n"Вернуться назад."')
                    if e in Invent:
                        print('Кинуть кусок мяса')
                    c = input()
                    if c == 'Вернуться назад':
                        c = 1
                    elif c == 'Кинуть кусок мяса' and e in Invent:
                        c = 1
                        print('Вы бросили кусок мяса вдаль и затаились. Долго ждать не пришлось:',
                              'собака чуть ли не сразу поднялась с лежанки и побежала за подачкой.')
                        while d != 1:
                            print('У вас есть несколько вариантов:\n"Вернуться назад."\n"Обойти вокруг дома"')
                            if yy == 0:
                                print("Постучатся в дверь")
                            else:
                                print("Зайти к  дровосеку")
                            q = input()
                            if q == "Вернуться назад":
                                c = 1
                                d = 1
                            elif q == "Обойти вокруг дома":
                                if w == 0:
                                    print('Обойдя дом дровосека вы увидели лишь заколоченные досками окна и старый сарай. Он заперт на ключ.')
                                else:
                                    Invent.append(xx)
                                    w = 0
                                    print('Открыв сарай, вы увидели не самую приятную картину. На стене висела доска,',
                                          'на которой были фотографии девушек. Какие то из них были зачёркнуты.',
                                          'Среди них была и фотография пропавшей недавно женщины.',
                                          '\n- Господь бог! Что-ж... Теперь мой список вопросов к Мистеру Джейкобу пополнился.'
                                          '\Вы взяли Зачёркнутую фотографию. Она добавлена в ваш инвентарь!')
                            elif q == "Постучатся в дверь" and yy == 0:
                                ww = 1
                                print('Вы подошли к двери старой деревянной хижины. Через несколько минут дверь отворил мужчина лет 60 с большой бородой и красной шапкой.',
                                      '\n- Кто вы такой и как сюда попали',
                                      '\n- Эмм... вы не могли бы не говорить со мной таким то...',
                                      '\n- КТО вы ТАКОЙ и КАК сюда ПОПАЛИ?!',
                                      '\n- Я Дэн Вистлоу сотрудник полиции города Страрвиль! А попал я сюда дав еды вашей бедной изголодавшейся собаке!',
                                      '\n- У меня нет собаки. Дарк мой пёс. Что вы забыли в нашей глуши?',
                                      '\n- Я расследую дело о пропажи людей в этой деревне'
                                      '\n- Что-же... пологаю вы хотите допросить меня или что то вроде того?',
                                      '\n- Именно так. Могу я войти?',
                                      '\n- Да. У меня нет секретов от закона.',
                                      '\n"Ну это мы ещё посмотрим."',)
                                Funk.append(b)
                            elif q == 'Зайти к дровосеку':
                                ww = 1
        if (a == 'Пойти к дровосеку' and yy == 1) or (q == 'Зайти к дровосеку' and ww == 1):
            print('- Так что вы хотели у меня спросить?',
                  '\nВнимание! теперь у вас будет возможность найти несостыковку в словах жертвы.',
                  'Вам достаточно ввести цифры противоречиших показаний жертвы(без пробелов) и номер её ответа. В случае несовпадения, правда проявит себя!')
            while n != 1 or ww != 0:
                print('"Покинуть дом"', '"Спросить про капканы"', '"Информация",')
                if xx in Invent:
                    print('"Спросить про пропавшую девушку"')
                    if p in Invent:
                        print('"Спросить про сломаную детскую кроватку"')
                    if x in Invent:
                        print('"Спросить про его семью"')
                    o = input()
                    if o == "Покинуть дом":
                        ww = 0
                        yy = 0
                        print('- Я зайду позже. Надеюсь всё в порядке?',
                        '\n- Да, конечно.')
                    elif o == "Спросить про сломаную детскую кроватку" and p in Invent:
                        print('Вы знаете что нибудь о сломанной кроватке рядом с вашим городским хранилищем?',
                              '\n- Нет. Она не моя. Возможно, кто-то перепутал мой сарай с мусоркой.')
                        Quest.append('4:', '1-Ничего не знает о сломанной кроватке.')
                    elif o == "Спросить про его семью" and x in Invent:
                        print('- У вас есть семья?\n- Была. Дочь, Марта, и жена, Лилит. Мы тогда жили в городе, пока Лилит не пропала. Тогда я и переехал жить сюда.',
                              '\n- Мои соболезнования.')
                        Quest.append('1:\n1-Был женат и имел жену\n2-Жена пропала какое то время назад\n3-После пропажи жены, переехал сюда\n')
                    elif o == "Спросить про пропавшую девушку":
                        print('-Вам знакома эта женщина?')
                        time.sleep(3)
                        print('- Нет, а должна?\n- Нет, просто она пропала и я думал, что вы могли бы что нибудь знать.\- Увы, я никогда не видел её.')
                        Quest.append('2:\n1-Не знает о пропаже в деревне\n2-Никогда не видел женщину на фотографии')
                    elif o == "Спросить про капканы":
                       print('- Что вы знаете о капканах в лесу?\n- Это мои капканы, я их расставил.',
                             '\n- Зачем?\n- Жители шугаются. Говорят, баб воруют. Ну я и решил ловушек расставить.')
                       Quest.append('3:\n 1-Капканы принадлежат Джейкобу\n 2-Знает о страхе в деревне\n 3-Расставил ловушки чтобы жители не шугались\n')
                    elif o == "Информация":
                            print(Quest, end='\n')
                    if o == '2132':
                        time.sleep(2)
                        print('Ага!')
                        time.sleep(2)
                        print('Вы сказали о том, что расставили капканы в лесу, чтобы жители не боялись пропаж близких.\nНу да'
                              '\nОднако вы не знаете о пропаже женщин в деревне?\nНу...')
                        time.sleep(4)
                        print('Вы чего то не договариваете, Джейкоб.\nХорошо, я знаю о том, что женщины пропдают.\nИ ваша жена в том числе?'
                              '\nНет, нет. Моя жена просто бросила меня и забрала дочь с собой. И вещи заодно.\nВы столь в этом уверенны?\nДа. Да я уверен.')
                        Quest.append("5:\n1-Жена забрала ребёнка и вещи.\n2-Уверен, что пропажи с ней никак не связанна")
                        for i in Quest:
                            if 'Не знает о пропаже в деревне' in i:
                                Quest[i] = '2:\n1-Знает о пропаже в деревне\n2-Никогда не видел женщину на фотографии'
                    if o == '4151':
                        time.sleep(2)
                        print('Ага!')
                        time.sleep(2)
                        print('Так значит ваша жена ушла и забрала вещи?\nВам стоит сходить к лору'
                              '\nА сломанная кроватка, которая была рядом с вашим сараем оказалась там совершенно случайно?\nДа...'
                              'И ваша жена совсем не забрала с собой важный для ребёнка предмет, а бросила его там?.\nНет, но...'
                              '\nА фотография этой пропавшей женщины, зачёркнутая красным маркером, И ОСТАЛЬНЫХ ПРОПАВШИХ ЛЮДЕЙ СОВЕРШЕННО СЛУЧАЙНО ОКАЗАЛИСЬ В ВАШЕМ ЧУЛАНЕ НА ЗАДНЕМ ДВОРЕ?!')
                        print('\n-С этими словами вы бросили фотографию на стол.')
                        time.sleep(8)
                        print('\n-С этими словами вы бросили фотографию на стол.')
                        Quest.append("5:\n1-Жена забрала ребёнка и вещи.\n2-Уверен, что пропажи с ней никак не связанна")
                        for i in Quest:
                            if 'Не знает о пропаже в деревне' in i:
                                Quest[i] = '2:\n1-Знает о пропаже в деревне\n2-Никогда не видел женщину на фотографии'
